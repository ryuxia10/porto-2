/* src/games/BrewButton.css */

.brew-button-v2 {
  /* --- VARIABEL TEMA ALKEMIS --- */
  --primary: #FFD700; /* Emas sebagai aksen */
  --neutral-1: #8B4513; /* Coklat Tua (SaddleBrown) */
  --neutral-2: #4d2600; /* Coklat Sangat Tua */
  --radius: 14px;
  
  cursor: pointer;
  border-radius: var(--radius);
  text-shadow: 0 1px 1px rgba(0, 0, 0, 0.3);
  border: none;
  box-shadow: 0 0.5px 0.5px 1px rgba(0,0,0,0.2), 0 10px 20px rgba(0,0,0,0.2), 0 4px 5px 0px rgba(0,0,0,0.05);
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
  transition: all 0.3s ease;
  min-width: 150px;
  padding: 20px;
  height: 60px;
  font-family: "Cinzel Decorative", serif;
  font-style: normal;
  font-size: 1.2rem;
  font-weight: 700;
  color: #F5DEB3; /* Warna Teks Perkamen */
  background: var(--neutral-1);
}

.brew-button-v2:disabled { cursor: not-allowed; filter: grayscale(60%); opacity: 0.7;}
.brew-button-v2:hover:not(:disabled) {
  transform: scale(1.02);
  box-shadow: 0 0 1px 2px rgba(255,215,0,0.3), 0 15px 30px rgba(0,0,0,0.3), 0 10px 3px -3px rgba(0,0,0,0.04);
}
.brew-button-v2:active:not(:disabled) {
  transform: scale(1);
  box-shadow: 0 0 1px 2px rgba(255,215,0,0.3), 0 10px 3px -3px rgba(0,0,0,0.2);
}

/* ... (Kode CSS :after, :before, .state p, .state .icon tetap sama) ... */
.brew-button-v2:after {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: var(--radius);
  border: 2.5px solid transparent;
  background: linear-gradient(var(--neutral-1), var(--neutral-2)) padding-box, linear-gradient(to bottom, rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.45)) border-box;
  z-index: 0;
  transition: all 0.4s ease;
}
.brew-button-v2:hover::after {
  transform: scale(1.05, 1.1);
  box-shadow: inset 0 -1px 3px 0 #3b1d00;
}
.brew-button-v2::before {
  content: "";
  inset: 7px 6px 6px 6px;
  position: absolute;
  background: linear-gradient(to top, var(--neutral-1), var(--neutral-2));
  border-radius: 30px;
  filter: blur(0.5px);
  z-index: 2;
}
.state p { display: flex; align-items: center; justify-content: center; }
.state .icon {
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  margin: auto;
  transform: scale(1.25);
  transition: all 0.3s ease;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--primary); /* Ikon menggunakan warna aksen */
}
.state .icon svg { overflow: visible; }

.outline { position: absolute; border-radius: inherit; overflow: hidden; z-index: 1; opacity: 0; transition: opacity 0.4s ease; inset: -2px -3.5px; }
.outline::before {
  content: "";
  position: absolute;
  inset: -100%;
  background: conic-gradient(from 180deg, transparent 60%, var(--primary) 80%, transparent 100%);
  animation: spin 2s linear infinite;
  animation-play-state: paused;
}
@keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
.brew-button-v2:hover .outline { opacity: 1; }
.brew-button-v2:hover .outline::before { animation-play-state: running; }

.state p span { display: block; opacity: 0; animation: slideDown 0.8s ease forwards calc(var(--i) * 0.03s); }
.brew-button-v2:hover:not(:disabled) p span { opacity: 1; animation: wave 0.5s ease forwards calc(var(--i) * 0.02s); }
.brew-button-v2.sent .state--default p span { opacity: 1; animation: disapear 0.6s ease forwards calc(var(--i) * 0.03s); }

/* ===== State Change Logic ===== */
.state { padding-left: 29px; z-index: 2; display: flex; position: relative; }
.state--sent { display: none; }
.brew-button-v2.sent .state--default { position: absolute; }
.brew-button-v2.sent .state--sent { display: flex; }
.brew-button-v2.sent .state--sent span { opacity: 0; animation: slideDown 0.8s ease forwards calc(var(--i) * 0.2s); }
.brew-button-v2.sent .state--sent .icon svg { opacity: 0; animation: appear 1.2s ease forwards 0.8s; }

/* ===== DITAMBAHKAN: Aturan untuk menghilangkan ikon default ===== */
.brew-button-v2.sent .state--default .icon {
  animation: poof-disappear 0.5s ease-out forwards;
}
/* ============================================================= */

/* Keyframes */
@keyframes wave{30%{opacity:1;transform:translateY(4px) translateX(0) rotate(0)}50%{opacity:1;transform:translateY(-3px) translateX(0) rotate(0);color:var(--primary)}100%{opacity:1;transform:translateY(0) translateX(0) rotate(0)}}
@keyframes slideDown{0%{opacity:0;transform:translateY(-20px) translateX(5px) rotate(-90deg);color:var(--primary);filter:blur(5px)}30%{opacity:1;transform:translateY(4px) translateX(0) rotate(0);filter:blur(0)}50%{opacity:1;transform:translateY(-3px) translateX(0) rotate(0)}100%{opacity:1;transform:translateY(0) translateX(0) rotate(0)}}
@keyframes disapear{from{opacity:1}to{opacity:0;transform:translateX(5px) translateY(20px);color:var(--primary);filter:blur(5px)}}
@keyframes appear{0%{opacity:0;transform:scale(4) rotate(-40deg);color:var(--primary);filter:blur(4px)}30%{opacity:1;transform:scale(.6);filter:blur(1px)}50%{opacity:1;transform:scale(1.2);filter:blur(0)}100%{opacity:1;transform:scale(1)}}

/* ===== DITAMBAHKAN: Animasi "Poof" untuk ikon default ===== */
@keyframes poof-disappear {
  from {
    transform: scale(1.25);
    opacity: 1;
  }
  to {
    transform: scale(0);
    opacity: 0;
  }
}
/* ======================================================= */